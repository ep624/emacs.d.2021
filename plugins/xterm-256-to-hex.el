;;; package --- xterm-256-to-hex.el
;;
;;; Commentary:
;;
;; Convert a xterm (three digit) color to it's standard (six digit) hex color.
;;
;;; Code:

(defvar xterm-color-table
  '((:number "color-0" :x-name  "Black"             :hex "#000000")
    (:number "color-1" :x-name  "Maroon"            :hex "#800000")
    (:number "color-2" :x-name  "Green"             :hex "#008000")
    (:number "color-3" :x-name  "Olive"             :hex "#808000")
    (:number "color-4" :x-name  "Navy"              :hex "#000080")
    (:number "color-5" :x-name  "Purple"            :hex "#800080")
    (:number "color-6" :x-name  "Teal"              :hex "#008080")
    (:number "color-7" :x-name  "Silver"            :hex "#c0c0c0")
    (:number "color-8" :x-name  "Grey"              :hex "#808080")
    (:number "color-9" :x-name  "Red"               :hex "#ff0000")
    (:number "color-10" :x-name "Lime"              :hex "#00ff00")
    (:number "color-11" :x-name "Yellow"            :hex "#ffff00")
    (:number "color-12" :x-name "Blue"              :hex "#0000ff")
    (:number "color-13" :x-name "Fuchsia"           :hex "#ff00ff")
    (:number "color-14" :x-name "Aqua"              :hex "#00ffff")
    (:number "color-15" :x-name "White"             :hex "#ffffff")
    (:number "color-16" :x-name "Grey0"             :hex "#000000")
    (:number "color-17" :x-name "NavyBlue"          :hex "#00005f")
    (:number "color-18" :x-name "DarkBlue"          :hex "#000087")
    (:number "color-19" :x-name "Blue3"             :hex "#0000af")
    (:number "color-20" :x-name "Blue3"             :hex "#0000d7")
    (:number "color-21" :x-name "Blue1"             :hex "#0000ff")
    (:number "color-22" :x-name "DarkGreen"         :hex "#005f00")
    (:number "color-23" :x-name "DeepSkyBlue4"      :hex "#005f5f")
    (:number "color-24" :x-name "DeepSkyBlue4"      :hex "#005f87")
    (:number "color-25" :x-name "DeepSkyBlue4"      :hex "#005faf")
    (:number "color-26" :x-name "DodgerBlue3"       :hex "#005fd7")
    (:number "color-27" :x-name "DodgerBlue2"       :hex "#005fff")
    (:number "color-28" :x-name "Green4"            :hex "#008700")
    (:number "color-29" :x-name "SpringGreen4"      :hex "#00875f")
    (:number "color-30" :x-name "Turquoise4"        :hex "#008787")
    (:number "color-31" :x-name "DeepSkyBlue3"      :hex "#0087af")
    (:number "color-32" :x-name "DeepSkyBlue3"      :hex "#0087d7")
    (:number "color-33" :x-name "DodgerBlue1"       :hex "#0087ff")
    (:number "color-34" :x-name "Green3"            :hex "#00af00")
    (:number "color-35" :x-name "SpringGreen3"      :hex "#00af5f")
    (:number "color-36" :x-name "DarkCyan"          :hex "#00af87")
    (:number "color-37" :x-name "LightSeaGreen"     :hex "#00afaf")
    (:number "color-38" :x-name "DeepSkyBlue2"      :hex "#00afd7")
    (:number "color-39" :x-name "DeepSkyBlue1"      :hex "#00afff")
    (:number "color-40" :x-name "Green3"            :hex "#00d700")
    (:number "color-41" :x-name "SpringGreen3"      :hex "#00d75f")
    (:number "color-42" :x-name "SpringGreen2"      :hex "#00d787")
    (:number "color-43" :x-name "Cyan3"             :hex "#00d7af")
    (:number "color-44" :x-name "DarkTurquoise"     :hex "#00d7d7")
    (:number "color-45" :x-name "Turquoise2"        :hex "#00d7ff")
    (:number "color-46" :x-name "Green1"            :hex "#00ff00")
    (:number "color-47" :x-name "SpringGreen2"      :hex "#00ff5f")
    (:number "color-48" :x-name "SpringGreen1"      :hex "#00ff87")
    (:number "color-49" :x-name "MediumSpringGreen" :hex "#00ffaf")
    (:number "color-50" :x-name "Cyan2"             :hex "#00ffd7")
    (:number "color-51" :x-name "Cyan1"             :hex "#00ffff")
    (:number "color-52" :x-name "DarkRed"           :hex "#5f0000")
    (:number "color-53" :x-name "DeepPink4"         :hex "#5f005f")
    (:number "color-54" :x-name "Purple4"           :hex "#5f0087")
    (:number "color-55" :x-name "Purple4"           :hex "#5f00af")
    (:number "color-56" :x-name "Purple3"           :hex "#5f00d7")
    (:number "color-57" :x-name "BlueViolet"        :hex "#5f00ff")
    (:number "color-58" :x-name "Orange4"           :hex "#5f5f00")
    (:number "color-59" :x-name "Grey37"            :hex "#5f5f5f")
    (:number "color-60" :x-name "MediumPurple4"     :hex "#5f5f87")
    (:number "color-61" :x-name "SlateBlue3"        :hex "#5f5faf")
    (:number "color-62" :x-name "SlateBlue3"        :hex "#5f5fd7")
    (:number "color-63" :x-name "RoyalBlue1"        :hex "#5f5fff")
    (:number "color-64" :x-name "Chartreuse4"       :hex "#5f8700")
    (:number "color-65" :x-name "DarkSeaGreen4"     :hex "#5f875f")
    (:number "color-66" :x-name "PaleTurquoise4"    :hex "#5f8787")
    (:number "color-67" :x-name "SteelBlue"         :hex "#5f87af")
    (:number "color-68" :x-name "SteelBlue3"        :hex "#5f87d7")
    (:number "color-69" :x-name "CornflowerBlue"    :hex "#5f87ff")
    (:number "color-70" :x-name "Chartreuse3"       :hex "#5faf00")
    (:number "color-71" :x-name "DarkSeaGreen4"     :hex "#5faf5f")
    (:number "color-72" :x-name "CadetBlue"         :hex "#5faf87")
    (:number "color-73" :x-name "CadetBlue"         :hex "#5fafaf")
    (:number "color-74" :x-name "SkyBlue3"          :hex "#5fafd7")
    (:number "color-75" :x-name "SteelBlue1"        :hex "#5fafff")
    (:number "color-76" :x-name "Chartreuse3"       :hex "#5fd700")
    (:number "color-77" :x-name "PaleGreen3"        :hex "#5fd75f")
    (:number "color-78" :x-name "SeaGreen3"         :hex "#5fd787")
    (:number "color-79" :x-name "Aquamarine3"       :hex "#5fd7af")
    (:number "color-80" :x-name "MediumTurquoise"   :hex "#5fd7d7")
    (:number "color-81" :x-name "SteelBlue1"        :hex "#5fd7ff")
    (:number "color-82" :x-name "Chartreuse2"       :hex "#5fff00")
    (:number "color-83" :x-name "SeaGreen2"         :hex "#5fff5f")
    (:number "color-84" :x-name "SeaGreen1"         :hex "#5fff87")
    (:number "color-85" :x-name "SeaGreen1"         :hex "#5fffaf")
    (:number "color-86" :x-name "Aquamarine1"       :hex "#5fffd7")
    (:number "color-87" :x-name "DarkSlateGray2"    :hex "#5fffff")
    (:number "color-88" :x-name "DarkRed"           :hex "#870000")
    (:number "color-89" :x-name "DeepPink4"         :hex "#87005f")
    (:number "color-90" :x-name "DarkMagenta"       :hex "#870087")
    (:number "color-91" :x-name "DarkMagenta"       :hex "#8700af")
    (:number "color-92" :x-name "DarkViolet"        :hex "#8700d7")
    (:number "color-93" :x-name "Purple"            :hex "#8700ff")
    (:number "color-94" :x-name "Orange4"           :hex "#875f00")
    (:number "color-95" :x-name "LightPink4"        :hex "#875f5f")
    (:number "color-96" :x-name "Plum4"             :hex "#875f87")
    (:number "color-97" :x-name "MediumPurple3"     :hex "#875faf")
    (:number "color-98" :x-name "MediumPurple3"     :hex "#875fd7")
    (:number "color-99" :x-name "SlateBlue1"        :hex "#875fff")
    (:number "color-100" :x-name  "Yellow4"         :hex "#878700")
    (:number "color-101" :x-name  "Wheat4"          :hex "#87875f")
    (:number "color-102" :x-name  "Grey53"          :hex "#878787")
    (:number "color-103" :x-name  "LightSlateGrey"  :hex "#8787af")
    (:number "color-104" :x-name  "MediumPurple"    :hex "#8787d7")
    (:number "color-105" :x-name  "LightSlateBlue"  :hex "#8787ff")
    (:number "color-106" :x-name  "Yellow4"         :hex "#87af00")
    (:number "color-107" :x-name  "DarkOliveGreen3" :hex "#87af5f")
    (:number "color-108" :x-name  "DarkSeaGreen"    :hex "#87af87")
    (:number "color-109" :x-name  "LightSkyBlue3"   :hex "#87afaf")
    (:number "color-110" :x-name  "LightSkyBlue3"   :hex "#87afd7")
    (:number "color-111" :x-name  "SkyBlue2"        :hex "#87afff")
    (:number "color-112" :x-name  "Chartreuse2"     :hex "#87d700")
    (:number "color-113" :x-name  "DarkOliveGreen3" :hex "#87d75f")
    (:number "color-114" :x-name  "PaleGreen3"      :hex "#87d787")
    (:number "color-115" :x-name  "DarkSeaGreen3"   :hex "#87d7af")
    (:number "color-116" :x-name  "DarkSlateGray3"  :hex "#87d7d7")
    (:number "color-117" :x-name  "SkyBlue1"        :hex "#87d7ff")
    (:number "color-118" :x-name  "Chartreuse1"     :hex "#87ff00")
    (:number "color-119" :x-name  "LightGreen"      :hex "#87ff5f")
    (:number "color-120" :x-name  "LightGreen"      :hex "#87ff87")
    (:number "color-121" :x-name  "PaleGreen1"      :hex "#87ffaf")
    (:number "color-122" :x-name  "Aquamarine1"     :hex "#87ffd7")
    (:number "color-123" :x-name  "DarkSlateGray1"  :hex "#87ffff")
    (:number "color-124" :x-name  "Red3"            :hex "#af0000")
    (:number "color-125" :x-name  "DeepPink4"       :hex "#af005f")
    (:number "color-126" :x-name  "MediumVioletRed" :hex "#af0087")
    (:number "color-127" :x-name  "Magenta3"        :hex "#af00af")
    (:number "color-128" :x-name  "DarkViolet"      :hex "#af00d7")
    (:number "color-129" :x-name  "Purple"          :hex "#af00ff")
    (:number "color-130" :x-name  "DarkOrange3"     :hex "#af5f00")
    (:number "color-131" :x-name  "IndianRed"       :hex "#af5f5f")
    (:number "color-132" :x-name  "HotPink3"        :hex "#af5f87")
    (:number "color-133" :x-name  "MediumOrchid3"   :hex "#af5faf")
    (:number "color-134" :x-name  "MediumOrchid"    :hex "#af5fd7")
    (:number "color-135" :x-name  "MediumPurple2"   :hex "#af5fff")
    (:number "color-136" :x-name  "DarkGoldenrod"   :hex "#af8700")
    (:number "color-137" :x-name  "LightSalmon3"    :hex "#af875f")
    (:number "color-138" :x-name  "RosyBrown"       :hex "#af8787")
    (:number "color-139" :x-name  "Grey63"          :hex "#af87af")
    (:number "color-140" :x-name  "MediumPurple2"   :hex "#af87d7")
    (:number "color-141" :x-name  "MediumPurple1"   :hex "#af87ff")
    (:number "color-142" :x-name  "Gold3"           :hex "#afaf00")
    (:number "color-143" :x-name  "DarkKhaki"       :hex "#afaf5f")
    (:number "color-144" :x-name  "NavajoWhite3"    :hex "#afaf87")
    (:number "color-145" :x-name  "Grey69"          :hex "#afafaf")
    (:number "color-146" :x-name  "LightSteelBlue3" :hex "#afafd7")
    (:number "color-147" :x-name  "LightSteelBlue"  :hex "#afafff")
    (:number "color-148" :x-name  "Yellow3"         :hex "#afd700")
    (:number "color-149" :x-name  "DarkOliveGreen3" :hex "#afd75f")
    (:number "color-150" :x-name  "DarkSeaGreen3"   :hex "#afd787")
    (:number "color-151" :x-name  "DarkSeaGreen2"   :hex "#afd7af")
    (:number "color-152" :x-name  "LightCyan3"      :hex "#afd7d7")
    (:number "color-153" :x-name  "LightSkyBlue1"   :hex "#afd7ff")
    (:number "color-154" :x-name  "GreenYellow"     :hex "#afff00")
    (:number "color-155" :x-name  "DarkOliveGreen2" :hex "#afff5f")
    (:number "color-156" :x-name  "PaleGreen1"      :hex "#afff87")
    (:number "color-157" :x-name  "DarkSeaGreen2"   :hex "#afffaf")
    (:number "color-158" :x-name  "DarkSeaGreen1"   :hex "#afffd7")
    (:number "color-159" :x-name  "PaleTurquoise1"  :hex "#afffff")
    (:number "color-160" :x-name  "Red3"            :hex "#d70000")
    (:number "color-161" :x-name  "DeepPink3"       :hex "#d7005f")
    (:number "color-162" :x-name  "DeepPink3"       :hex "#d70087")
    (:number "color-163" :x-name  "Magenta3"        :hex "#d700af")
    (:number "color-164" :x-name  "Magenta3"        :hex "#d700d7")
    (:number "color-165" :x-name  "Magenta2"        :hex "#d700ff")
    (:number "color-166" :x-name  "DarkOrange3"     :hex "#d75f00")
    (:number "color-167" :x-name  "IndianRed"       :hex "#d75f5f")
    (:number "color-168" :x-name  "HotPink3"        :hex "#d75f87")
    (:number "color-169" :x-name  "HotPink2"        :hex "#d75faf")
    (:number "color-170" :x-name  "Orchid"          :hex "#d75fd7")
    (:number "color-171" :x-name  "MediumOrchid1"   :hex "#d75fff")
    (:number "color-172" :x-name  "Orange3"         :hex "#d78700")
    (:number "color-173" :x-name  "LightSalmon3"    :hex "#d7875f")
    (:number "color-174" :x-name  "LightPink3"      :hex "#d78787")
    (:number "color-175" :x-name  "Pink3"           :hex "#d787af")
    (:number "color-176" :x-name  "Plum3"           :hex "#d787d7")
    (:number "color-177" :x-name  "Violet"          :hex "#d787ff")
    (:number "color-178" :x-name  "Gold3"           :hex "#d7af00")
    (:number "color-179" :x-name  "LightGoldenrod3" :hex "#d7af5f")
    (:number "color-180" :x-name  "Tan"             :hex "#d7af87")
    (:number "color-181" :x-name  "MistyRose3"      :hex "#d7afaf")
    (:number "color-182" :x-name  "Thistle3"        :hex "#d7afd7")
    (:number "color-183" :x-name  "Plum2"           :hex "#d7afff")
    (:number "color-184" :x-name  "Yellow3"         :hex "#d7d700")
    (:number "color-185" :x-name  "Khaki3"          :hex "#d7d75f")
    (:number "color-186" :x-name  "LightGoldenrod2" :hex "#d7d787")
    (:number "color-187" :x-name  "LightYellow3"    :hex "#d7d7af")
    (:number "color-188" :x-name  "Grey84"          :hex "#d7d7d7")
    (:number "color-189" :x-name  "LightSteelBlue1" :hex "#d7d7ff")
    (:number "color-190" :x-name  "Yellow2"         :hex "#d7ff00")
    (:number "color-191" :x-name  "DarkOliveGreen1" :hex "#d7ff5f")
    (:number "color-192" :x-name  "DarkOliveGreen1" :hex "#d7ff87")
    (:number "color-193" :x-name  "DarkSeaGreen1"   :hex "#d7ffaf")
    (:number "color-194" :x-name  "Honeydew2"       :hex "#d7ffd7")
    (:number "color-195" :x-name  "LightCyan1"      :hex "#d7ffff")
    (:number "color-196" :x-name  "Red1"            :hex "#ff0000")
    (:number "color-197" :x-name  "DeepPink2"       :hex "#ff005f")
    (:number "color-198" :x-name  "DeepPink1"       :hex "#ff0087")
    (:number "color-199" :x-name  "DeepPink1"       :hex "#ff00af")
    (:number "color-200" :x-name  "Magenta2"        :hex "#ff00d7")
    (:number "color-201" :x-name  "Magenta1"        :hex "#ff00ff")
    (:number "color-202" :x-name  "OrangeRed1"      :hex "#ff5f00")
    (:number "color-203" :x-name  "IndianRed1"      :hex "#ff5f5f")
    (:number "color-204" :x-name  "IndianRed1"      :hex "#ff5f87")
    (:number "color-205" :x-name  "HotPink"         :hex "#ff5faf")
    (:number "color-206" :x-name  "HotPink"         :hex "#ff5fd7")
    (:number "color-207" :x-name  "MediumOrchid1"   :hex "#ff5fff")
    (:number "color-208" :x-name  "DarkOrange"      :hex "#ff8700")
    (:number "color-209" :x-name  "Salmon1"         :hex "#ff875f")
    (:number "color-210" :x-name  "LightCoral"      :hex "#ff8787")
    (:number "color-211" :x-name  "PaleVioletRed1"  :hex "#ff87af")
    (:number "color-212" :x-name  "Orchid2"         :hex "#ff87d7")
    (:number "color-213" :x-name  "Orchid1"         :hex "#ff87ff")
    (:number "color-214" :x-name  "Orange1"         :hex "#ffaf00")
    (:number "color-215" :x-name  "SandyBrown"      :hex "#ffaf5f")
    (:number "color-216" :x-name  "LightSalmon1"    :hex "#ffaf87")
    (:number "color-217" :x-name  "LightPink1"      :hex "#ffafaf")
    (:number "color-218" :x-name  "Pink1"           :hex "#ffafd7")
    (:number "color-219" :x-name  "Plum1"           :hex "#ffafff")
    (:number "color-220" :x-name  "Gold1"           :hex "#ffd700")
    (:number "color-221" :x-name  "LightGoldenrod2" :hex "#ffd75f")
    (:number "color-222" :x-name  "LightGoldenrod2" :hex "#ffd787")
    (:number "color-223" :x-name  "NavajoWhite1"    :hex "#ffd7af")
    (:number "color-224" :x-name  "MistyRose1"      :hex "#ffd7d7")
    (:number "color-225" :x-name  "Thistle1"        :hex "#ffd7ff")
    (:number "color-226" :x-name  "Yellow1"         :hex "#ffff00")
    (:number "color-227" :x-name  "LightGoldenrod1" :hex "#ffff5f")
    (:number "color-228" :x-name  "Khaki1"          :hex "#ffff87")
    (:number "color-229" :x-name  "Wheat1"          :hex "#ffffaf")
    (:number "color-230" :x-name  "Cornsilk1"       :hex "#ffffd7")
    (:number "color-231" :x-name  "Grey100"         :hex "#ffffff")
    (:number "color-232" :x-name  "Grey3"           :hex "#080808")
    (:number "color-233" :x-name  "Grey7"           :hex "#121212")
    (:number "color-234" :x-name  "Grey11"          :hex "#1c1c1c")
    (:number "color-235" :x-name  "Grey15"          :hex "#262626")
    (:number "color-236" :x-name  "Grey19"          :hex "#303030")
    (:number "color-237" :x-name  "Grey23"          :hex "#3a3a3a")
    (:number "color-238" :x-name  "Grey27"          :hex "#444444")
    (:number "color-239" :x-name  "Grey30"          :hex "#4e4e4e")
    (:number "color-240" :x-name  "Grey35"          :hex "#585858")
    (:number "color-241" :x-name  "Grey39"          :hex "#626262")
    (:number "color-242" :x-name  "Grey42"          :hex "#6c6c6c")
    (:number "color-243" :x-name  "Grey46"          :hex "#767676")
    (:number "color-244" :x-name  "Grey50"          :hex "#808080")
    (:number "color-245" :x-name  "Grey54"          :hex "#8a8a8a")
    (:number "color-246" :x-name  "Grey58"          :hex "#949494")
    (:number "color-247" :x-name  "Grey62"          :hex "#9e9e9e")
    (:number "color-248" :x-name  "Grey66"          :hex "#a8a8a8")
    (:number "color-249" :x-name  "Grey70"          :hex "#b2b2b2")
    (:number "color-250" :x-name  "Grey74"          :hex "#bcbcbc")
    (:number "color-251" :x-name  "Grey78"          :hex "#c6c6c6")
    (:number "color-252" :x-name  "Grey82"          :hex "#d0d0d0")
    (:number "color-253" :x-name  "Grey85"          :hex "#dadada")
    (:number "color-254" :x-name  "Grey89"          :hex "#e4e4e4")
    (:number "color-255" :x-name  "Grey93"          :hex "#eeeeee")
    ))

(defvar xterm-color-alist
  '(
    (  0 . "#000000") (  1 . "#800000") (  2 . "#008000") (  3 . "#808000") (  4 . "#000080") (  5 . "#800080") (  6 . "#008080") (  7 . "#c0c0c0")
    (  8 . "#808080") (  9 . "#ff0000") ( 10 . "#00ff00") ( 11 . "#ffff00") ( 12 . "#0000ff") ( 13 . "#ff00ff") ( 14 . "#00ffff") ( 15 . "#ffffff")

    ( 16 . "#000000") ( 17 . "#00005f") ( 18 . "#000087") ( 19 . "#0000af") ( 20 . "#0000d7") ( 21 . "#0000ff")
    ( 22 . "#005f00") ( 23 . "#005f5f") ( 24 . "#005f87") ( 25 . "#005faf") ( 26 . "#005fd7") ( 27 . "#005fff")
    ( 28 . "#008700") ( 29 . "#00875f") ( 30 . "#008787") ( 31 . "#0087af") ( 32 . "#0087d7") ( 33 . "#0087ff")
    ( 34 . "#00af00") ( 35 . "#00af5f") ( 36 . "#00af87") ( 37 . "#00afaf") ( 38 . "#00afd7") ( 39 . "#00afff")
    ( 40 . "#00d700") ( 41 . "#00d75f") ( 42 . "#00d787") ( 43 . "#00d7af") ( 44 . "#00d7d7") ( 45 . "#00d7ff")
    ( 46 . "#00ff00") ( 47 . "#00ff5f") ( 48 . "#00ff87") ( 49 . "#00ffaf") ( 50 . "#00ffd7") ( 51 . "#00ffff")

    ( 52 . "#5f0000") ( 53 . "#5f005f") ( 54 . "#5f0087") ( 55 . "#5f00af") ( 56 . "#5f00d7") ( 57 . "#5f00ff")
    ( 58 . "#5f5f00") ( 59 . "#5f5f5f") ( 60 . "#5f5f87") ( 61 . "#5f5faf") ( 62 . "#5f5fd7") ( 63 . "#5f5fff")
    ( 64 . "#5f8700") ( 65 . "#5f875f") ( 66 . "#5f8787") ( 67 . "#5f87af") ( 68 . "#5f87d7") ( 69 . "#5f87ff")
    ( 70 . "#5faf00") ( 71 . "#5faf5f") ( 72 . "#5faf87") ( 73 . "#5fafaf") ( 74 . "#5fafd7") ( 75 . "#5fafff")
    ( 76 . "#5fd700") ( 77 . "#5fd75f") ( 78 . "#5fd787") ( 79 . "#5fd7af") ( 80 . "#5fd7d7") ( 81 . "#5fd7ff")
    ( 82 . "#5fff00") ( 83 . "#5fff5f") ( 84 . "#5fff87") ( 85 . "#5fffaf") ( 86 . "#5fffd7") ( 87 . "#5fffff")

    ( 88 . "#870000") ( 89 . "#87005f") ( 90 . "#870087") ( 91 . "#8700af") ( 92 . "#8700d7") ( 93 . "#8700ff")
    ( 94 . "#875f00") ( 95 . "#875f5f") ( 96 . "#875f87") ( 97 . "#875faf") ( 98 . "#875fd7") ( 99 . "#875fff")
    (100 . "#878700") (101 . "#87875f") (102 . "#878787") (103 . "#8787af") (104 . "#8787d7") (105 . "#8787ff")
    (106 . "#87af00") (107 . "#87af5f") (108 . "#87af87") (109 . "#87afaf") (110 . "#87afd7") (111 . "#87afff")
    (112 . "#87d700") (113 . "#87d75f") (114 . "#87d787") (115 . "#87d7af") (116 . "#87d7d7") (117 . "#87d7ff")
    (118 . "#87ff00") (119 . "#87ff5f") (120 . "#87ff87") (121 . "#87ffaf") (122 . "#87ffd7") (123 . "#87ffff")

    (124 . "#af0000") (125 . "#af005f") (126 . "#af0087") (127 . "#af00af") (128 . "#af00d7") (129 . "#af00ff")
    (130 . "#af5f00") (131 . "#af5f5f") (132 . "#af5f87") (133 . "#af5faf") (134 . "#af5fd7") (135 . "#af5fff")
    (136 . "#af8700") (137 . "#af875f") (138 . "#af8787") (139 . "#af87af") (140 . "#af87d7") (141 . "#af87ff")
    (142 . "#afaf00") (143 . "#afaf5f") (144 . "#afaf87") (145 . "#afafaf") (146 . "#afafd7") (147 . "#afafff")
    (148 . "#afd700") (149 . "#afd75f") (150 . "#afd787") (151 . "#afd7af") (152 . "#afd7d7") (153 . "#afd7ff")
    (154 . "#afff00") (155 . "#afff5f") (156 . "#afff87") (157 . "#afffaf") (158 . "#afffd7") (159 . "#afffff")

    (160 . "#d70000") (161 . "#d7005f") (162 . "#d70087") (163 . "#d700af") (164 . "#d700d7") (165 . "#d700ff")
    (166 . "#d75f00") (167 . "#d75f5f") (168 . "#d75f87") (169 . "#d75faf") (170 . "#d75fd7") (171 . "#d75fff")
    (172 . "#d78700") (173 . "#d7875f") (174 . "#d78787") (175 . "#d787af") (176 . "#d787d7") (177 . "#d787ff")
    (178 . "#dfaf00") (179 . "#dfaf5f") (180 . "#dfaf87") (181 . "#dfafaf") (182 . "#dfafdf") (183 . "#dfafff")
    (184 . "#dfdf00") (185 . "#dfdf5f") (186 . "#dfdf87") (187 . "#dfdfaf") (188 . "#dfdfdf") (189 . "#dfdfff")
    (190 . "#dfff00") (191 . "#dfff5f") (192 . "#dfff87") (193 . "#dfffaf") (194 . "#dfffdf") (195 . "#dfffff")

    (196 . "#ff0000") (197 . "#ff005f") (198 . "#ff0087") (199 . "#ff00af") (200 . "#ff00df") (201 . "#ff00ff")
    (202 . "#ff5f00") (203 . "#ff5f5f") (204 . "#ff5f87") (205 . "#ff5faf") (206 . "#ff5fdf") (207 . "#ff5fff")
    (208 . "#ff8700") (209 . "#ff875f") (210 . "#ff8787") (211 . "#ff87af") (212 . "#ff87df") (213 . "#ff87ff")
    (214 . "#ffaf00") (215 . "#ffaf5f") (216 . "#ffaf87") (217 . "#ffafaf") (218 . "#ffafdf") (219 . "#ffafff")
    (220 . "#ffdf00") (221 . "#ffdf5f") (222 . "#ffdf87") (223 . "#ffdfaf") (224 . "#ffdfdf") (225 . "#ffdfff")
    (226 . "#ffff00") (227 . "#ffff5f") (228 . "#ffff87") (229 . "#ffffaf") (230 . "#ffffdf") (231 . "#ffffff")

    (232 . "#080808") (233 . "#121212") (234 . "#1c1c1c") (235 . "#262626") (236 . "#303030") (237 . "#3a3a3a")
    (238 . "#444444") (239 . "#4e4e4e") (240 . "#585858") (241 . "#626262") (242 . "#6c6c6c") (243 . "#767676")
    (244 . "#808080") (245 . "#8a8a8a") (246 . "#949494") (247 . "#9e9e9e") (248 . "#a8a8a8") (249 . "#b2b2b2")
    (250 . "#bcbcbc") (251 . "#c6c6c6") (252 . "#d0d0d0") (253 . "#dadada") (254 . "#e4e4e4") (255 . "#eeeeee"))

  "List of xterm-256color (three digit) colors and their associated (six digit) hex color.")

(defun xterm-color-to-hex (num)
  "Return hex color for xterm color NUM."
  (interactive
   (if (and current-prefix-arg (not (consp current-prefix-arg)))
       (list (prefix-numeric-value current-prefix-arg))
     ;; Look for a number in the buffer at point.
     (let* ((default
              (save-excursion
                (skip-chars-backward "0-9")
                (if (looking-at "[0-9]")
                    (string-to-number
                     (buffer-substring-no-properties
                      (point)
                      (progn (skip-chars-forward "0-9")
                             (point))))))))

            ;; Read the argument, offering that number (if any) as default.
       (list (read-number "Xterm Color: " default)))

     ))
  (insert (format "%s" (xterm-color-to-hex-internal num))))

(defun xterm-color-to-hex-internal (n)
  "Internal function to lookup xterm color N number in alist."
  (cdr (assoc n xterm-color-alist)))

;; Local Variables:
;; eval: (when (fboundp 'rainbow-mode) (rainbow-mode +1))
;; End:

(provide 'xterm-256-to-hex)
;;; xterm-256-to-hex.el ends here
